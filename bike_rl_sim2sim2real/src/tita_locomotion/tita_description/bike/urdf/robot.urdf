<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/lu/Git_Project/github/bike_sim2sim_test/bike_rl_sim2sim2real/install/tita_description/share/tita_description/bike/xacro/robot.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="bike">
  <material name="black">
    <color rgba="0.19607843137254902 0.19607843137254902 0.19607843137254902 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="silver">
    <color rgba="0.9137254901960784 0.9137254901960784 0.8470588235294118 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.4235294117647059 0.0392156862745098 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.8705882352941177 0.8117647058823529 0.7647058823529411 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <link name="base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.058013 1.5196E-06 -0.18889"/>
      <mass value="8.5884"/>
      <inertia ixx="0.26235" ixy="1.7411E-06" ixz="-0.20526" iyy="0.75125" iyz="1.4708E-06" izz="0.50128"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="../meshes/base_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.89804 0.91765 0.92941 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="../meshes/base_link.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="imu_joint" type="fixed">
    <parent link="base_link"/>
    <child link="imu_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="imu_link">
    <inertial>
      <mass value="0.001"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
      <material name="red"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size=".001 .001 .001"/>
      </geometry>
    </collision>
  </link>
  <link name="front_turn">
    <inertial>
      <origin rpy="0 0 0" xyz="0.00014354 3.0121E-07 -0.34228"/>
      <mass value="0.27217"/>
      <inertia ixx="0.0042191" ixy="-1.9762E-11" ixz="-6.6991E-06" iyy="0.0037097" iyz="2.0584E-10" izz="0.00054854"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="../meshes/front_turn.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.69804 0.69804 0.69804 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="../meshes/front_turn.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="joint_front_turn" type="revolute">
    <origin rpy="0 -0.34907 0" xyz="0.46535 0 0.12607"/>
    <parent link="base_link"/>
    <child link="front_turn"/>
    <axis xyz="0 0 -1"/>
    <limit effort="100" lower="-1.3" upper="1.3" velocity="12.5"/>
  </joint>
  <link name="front_wheel">
    <inertial>
      <origin rpy="0 0 0" xyz="-4.1633E-17 1.1102E-16 5.3105E-17"/>
      <mass value="1.5911"/>
      <inertia ixx="0.064566" ixy="1.5468E-17" ixz="1.6623E-17" iyy="0.064566" iyz="7.5899E-19" izz="0.12861"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="../meshes/front_wheel.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.69804 0.69804 0.69804 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.05" radius="0.33"/>
      </geometry>
    </collision>
  </link>
  <joint name="joint_f_wheel" type="revolute">
    <origin rpy="1.5708 1.2217 3.1416" xyz="0 0 -0.52791"/>
    <parent link="front_turn"/>
    <child link="front_wheel"/>
    <axis xyz="0 0 1"/>
    <limit effort="100" lower="-10000" upper="10000" velocity="200"/>
  </joint>
  <link name="rear_wheel">
    <inertial>
      <origin rpy="0 0 0" xyz="-9.0206E-17 5.5511E-17 3.2298E-18"/>
      <mass value="1.5911"/>
      <inertia ixx="0.064566" ixy="2.6239E-17" ixz="2.3271E-20" iyy="0.064566" iyz="-1.496E-20" izz="0.12861"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="../meshes/rear_wheel.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.69804 0.69804 0.69804 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.05" radius="0.33"/>
      </geometry>
    </collision>
  </link>
  <joint name="joint_rear_wheel" type="revolute">
    <origin rpy="1.5708 1.5708 0" xyz="-0.37474 0 -0.37"/>
    <parent link="base_link"/>
    <child link="rear_wheel"/>
    <axis xyz="0 0 -1"/>
    <limit effort="100" lower="-1000000" upper="10000000" velocity="200"/>
  </joint>
  <webots>
    <plugin type="webots_ros2_control::Ros2Control"/>
  </webots>
  <ros2_control name="WebotsControl" type="system">
    <hardware>
      <plugin>tita_webots_ros2_control::WebotsBridge</plugin>
    </hardware>
    <joint name="joint_front_turn">
      <command_interface name="position"/>
      <command_interface name="velocity"/>
      <command_interface name="effort">
        <param name="min">-100</param>
        <param name="max">100</param>
      </command_interface>
      <command_interface name="kp"/>
      <command_interface name="kd"/>
      <state_interface name="position">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="joint_f_wheel">
      <command_interface name="position"/>
      <command_interface name="velocity"/>
      <command_interface name="effort">
        <param name="min">-100</param>
        <param name="max">100</param>
      </command_interface>
      <command_interface name="kp"/>
      <command_interface name="kd"/>
      <state_interface name="position">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="joint_rear_wheel">
      <command_interface name="position"/>
      <command_interface name="velocity"/>
      <command_interface name="effort">
        <param name="min">-100</param>
        <param name="max">100</param>
      </command_interface>
      <command_interface name="kp"/>
      <command_interface name="kd"/>
      <state_interface name="position">
        <param name="initial_value">-2.6</param>
      </state_interface>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <sensor name="imu">
      <state_interface name="orientation.x"/>
      <state_interface name="orientation.y"/>
      <state_interface name="orientation.z"/>
      <state_interface name="orientation.w"/>
      <state_interface name="angular_velocity.x"/>
      <state_interface name="angular_velocity.y"/>
      <state_interface name="angular_velocity.z"/>
      <state_interface name="linear_acceleration.x"/>
      <state_interface name="linear_acceleration.y"/>
      <state_interface name="linear_acceleration.z"/>
    </sensor>
  </ros2_control>
</robot>
